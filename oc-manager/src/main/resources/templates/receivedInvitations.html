<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Полученные приглашения</title>
    <link rel="stylesheet" href="/path/to/your/styles.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        function acceptInvitation(invitationId) {
            axios.post('/invitations/accept/' + invitationId)
                .then(response => {
                    if (response.data === 'success') {
                        alert('Приглашение принято.');
                        location.reload();
                    } else {
                        alert('Ошибка: ' + response.data);
                    }
                })
                .catch(error => {
                    console.error(error);
                    alert('Произошла ошибка.');
                });
        }

        function rejectInvitation(invitationId) {
            axios.post('/invitations/reject/' + invitationId)
                .then(response => {
                    if (response.data === 'success') {
                        alert('Приглашение отклонено.');
                        location.reload();
                    } else {
                        alert('Ошибка: ' + response.data);
                    }
                })
                .catch(error => {
                    console.error(error);
                    alert('Произошла ошибка.');
                });
        }
    </script>
</head>
<body>
<div class="container">
    <h1>Полученные приглашения</h1>
    <div th:if="${invitations.empty}">
        <p>Нет новых приглашений.</p>
    </div>
    <div th:unless="${invitations.empty}">
        <table>
            <thead>
            <tr>
                <th>Проект</th>
                <th>Отправитель</th>
                <th>Дата</th>
                <th>Действия</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="invitation : ${invitations}">
                <td th:text="${invitation.project.name}">Название проекта</td>
                <td th:text="${invitation.sender.username}">Отправитель</td>
                <td th:text="${#dates.format(invitation.timestamp, 'dd.MM.yyyy HH:mm')}">Дата</td>
                <td>
                    <button th:onclick="'acceptInvitation(' + ${invitation.id} + ')'">Принять</button>
                    <button th:onclick="'rejectInvitation(' + ${invitation.id} + ')'">Отклонить</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
